<!doctype html>
<html lang="zh-CN">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<title>🇮🇹🇭🇺🇦🇹🇨🇿 意-奥匈捷 Plan ｜纵向时间轴</title>
	<style>
		:root {
			--italy: #05b348;
			--hungary: #f2cd2b;
			--austria: #ed2939;
			--czech: #0353a9;
			--bg: #0a0c0f;
			--panel: #12151a;
			--text: #e8edf7;
			--muted: #8a94a6;
			--border: #1e232b;
			--shadow: rgba(0,0,0,0.4);
		}
		
		* { box-sizing: border-box; }
		html, body { height: 100%; margin: 0; padding: 0; }
		
		body {
			background: linear-gradient(135deg, #0a0c0f, #0e1216);
			color: var(--text);
			font: 14px/1.5 -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
			overflow-x: hidden;
		}
		
		.header {
			position: sticky;
			top: 0;
			background: rgba(10,12,15,0.95);
			backdrop-filter: blur(12px);
			border-bottom: 1px solid var(--border);
			z-index: 100;
			padding: 24px 20px;
			text-align: center;
		}
		
		.title {
			font-size: 28px;
			font-weight: 800;
			letter-spacing: 0.8px;
			margin-bottom: 12px;
			background: linear-gradient(135deg, #5aa9ff, #21d4a8, #ff6b9d);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
			line-height: 1.2;
		}
		
		.subtitle {
			font-size: 16px;
			color: var(--text);
			margin-bottom: 20px;
			font-weight: 500;
			opacity: 0.9;
		}
		
		.legend {
			display: flex;
			justify-content: center;
			gap: 24px;
			flex-wrap: wrap;
			margin-top: 4px;
		}
		
		.legend-item {
			display: flex;
			align-items: center;
			gap: 8px;
			font-size: 13px;
			color: var(--text);
			font-weight: 500;
			padding: 6px 12px;
			border-radius: 20px;
			background: rgba(255,255,255,0.05);
			border: 1px solid rgba(255,255,255,0.1);
			transition: all 0.2s ease;
		}
		
		.legend-item:hover {
			background: rgba(255,255,255,0.1);
			transform: translateY(-1px);
		}
		
		.legend-dot {
			width: 10px;
			height: 10px;
			border-radius: 50%;
			box-shadow: 0 0 8px rgba(90,169,255,0.4);
		}
		
		.legend-dot.italy { background: var(--italy); }
		.legend-dot.hungary { background: var(--hungary); }
		.legend-dot.austria { background: var(--austria); }
		.legend-dot.czech { background: var(--czech); }
		
		.timeline-container {
			padding: 20px;
			max-width: 1200px;
			margin: 0 auto;
		}
		
		.timeline {
			display: flex;
			flex-direction: column;
			gap: 24px;
			position: relative;
		}
		
		.timeline::before {
			content: '';
			position: absolute;
			left: 30px;
			top: 0;
			bottom: 0;
			width: 4px;
			background: linear-gradient(180deg, 
				var(--italy) 0% 6%, 
				var(--hungary) 6% 22%, 
				var(--austria) 22% 72%, 
				var(--czech) 72% 94%,
				var(--hungary) 94% 100%
			);
			border-radius: 2px;
			z-index: 1;
		}
		
		.day-item {
			display: flex;
			align-items: flex-start;
			position: relative;
			z-index: 2;
			cursor: pointer;
			transition: transform 0.2s ease;
			padding-left: 80px;
		}
		
		.day-item:hover {
			transform: translateX(8px);
		}
		
		.day-dot {
			position: absolute;
			left: 22px;
			top: 24px;
			width: 20px;
			height: 20px;
			border-radius: 50%;
			border: 4px solid #0a0c0f;
			box-shadow: 0 0 16px rgba(90,169,255,0.6);
		}
		
		.day-dot.italy { background: var(--italy); }
		.day-dot.hungary { background: var(--hungary); }
		.day-dot.austria { background: var(--austria); }
		.day-dot.czech { background: var(--czech); }
		
		.day-card {
			background: rgba(18,21,26,0.9);
			backdrop-filter: blur(8px);
			border: 1px solid var(--border);
			border-radius: 20px;
			padding: 24px;
			width: 100%;
			box-shadow: 0 6px 24px var(--shadow);
			transition: all 0.3s ease;
		}
		
		.day-card:hover {
			border-color: rgba(90,169,255,0.4);
			box-shadow: 0 12px 40px var(--shadow);
		}
		
		.day-header {
			display: flex;
			justify-content: space-between;
			align-items: flex-start;
			margin-bottom: 16px;
		}
		
		.day-info {
			flex: 1;
		}
		
		.day-date {
			font-size: 13px;
			color: var(--muted);
			margin-bottom: 6px;
		}
		
		.day-title {
			font-size: 18px;
			font-weight: 700;
			margin-bottom: 8px;
			line-height: 1.3;
		}
		
		.day-highlight {
			font-size: 13px;
			color: var(--text);
			margin-bottom: 16px;
			opacity: 0.9;
			font-style: italic;
		}
		
		.day-content {
			display: grid;
			grid-template-columns: 2fr 1fr;
			gap: 20px;
			margin-bottom: 16px;
		}
		
		.day-locations {
			display: flex;
			flex-wrap: wrap;
			gap: 8px;
		}
		
		.location-tag {
			font-size: 11px;
			padding: 6px 12px;
			border-radius: 12px;
			background: rgba(90,169,255,0.15);
			border: 1px solid rgba(90,169,255,0.3);
			color: #b8c8ff;
			white-space: nowrap;
		}
		
		.day-details {
			font-size: 12px;
			color: var(--muted);
			line-height: 1.5;
		}
		
		.day-transport {
			font-size: 12px;
			color: var(--text);
			background: rgba(90,169,255,0.1);
			padding: 12px 16px;
			border-radius: 12px;
			border: 1px solid rgba(90,169,255,0.2);
			margin-top: 16px;
		}
		
		.country-badge {
			font-size: 11px;
			padding: 4px 10px;
			border-radius: 20px;
			font-weight: 600;
			white-space: nowrap;
		}
		
		.country-badge.italy {
			background: rgba(5, 179, 72, 0.2);
			color: var(--italy);
			border: 1px solid var(--italy);
		}
		
		.country-badge.hungary {
			background: rgba(242, 205, 43, 0.2);
			color: var(--hungary);
			border: 1px solid var(--hungary);
		}
		
		.country-badge.austria {
			background: rgba(237, 41, 57, 0.2);
			color: var(--austria);
			border: 1px solid var(--austria);
		}
		
		.country-badge.czech {
			background: rgba(3, 83, 169, 0.2);
			color: var(--czech);
			border: 1px solid var(--czech);
		}
		
		.modal {
			position: fixed;
			inset: 0;
			background: rgba(0,0,0,0.8);
			backdrop-filter: blur(4px);
			display: none;
			align-items: center;
			justify-content: center;
			z-index: 200;
			padding: 20px;
		}
		
		.modal.show { display: flex; }
		
		.modal-content {
			background: var(--panel);
			border: 1px solid var(--border);
			border-radius: 20px;
			max-width: 600px;
			max-height: 80vh;
			width: 100%;
			overflow: hidden;
			position: relative;
		}
		
		.modal-header {
			padding: 20px;
			border-bottom: 1px solid var(--border);
			display: flex;
			justify-content: space-between;
			align-items: center;
		}
		
		.modal-title {
			font-size: 16px;
			font-weight: 700;
		}
		
		.modal-close {
			background: none;
			border: none;
			color: var(--muted);
			font-size: 24px;
			cursor: pointer;
			padding: 0;
			width: 32px;
			height: 32px;
			display: flex;
			align-items: center;
			justify-content: center;
			border-radius: 8px;
			transition: all 0.2s ease;
		}
		
		.modal-close:hover {
			background: rgba(255,255,255,0.1);
			color: var(--text);
		}
		
		.modal-body {
			padding: 20px;
			overflow-y: auto;
			max-height: calc(80vh - 80px);
		}
		
		.section {
			margin-bottom: 20px;
		}
		
		.section-title {
			font-size: 14px;
			font-weight: 600;
			margin-bottom: 12px;
			color: #dfe8f7;
		}
		
		.section-content {
			font-size: 13px;
			line-height: 1.6;
			color: var(--muted);
			white-space: pre-wrap;
		}
		
		.footer {
			text-align: center;
			padding: 40px 20px;
			color: var(--muted);
			font-size: 12px;
		}
		
		@media (max-width: 768px) {
			.header {
				padding: 20px 16px;
			}
			
			.title {
				font-size: 22px;
				margin-bottom: 10px;
			}
			
			.subtitle {
				font-size: 14px;
				margin-bottom: 16px;
			}
			
			.legend {
				gap: 16px;
			}
			
			.legend-item {
				font-size: 12px;
				padding: 4px 8px;
				gap: 6px;
			}
			
			.timeline-container {
				padding: 15px;
			}
			
			.timeline::before {
				left: 20px;
				width: 3px;
			}
			
			.day-item {
				padding-left: 55px;
			}
			
			.day-dot {
				left: 12px;
				width: 16px;
				height: 16px;
				border-width: 3px;
			}
			
			.day-card {
				padding: 16px;
			}
			
			.day-header {
				flex-direction: column;
				gap: 8px;
			}
			
			.day-title {
				font-size: 16px;
			}
			
			.day-content {
				grid-template-columns: 1fr;
				gap: 12px;
			}
			
			.location-tag {
				font-size: 10px;
				padding: 4px 8px;
			}
			
			.modal-content {
				margin: 10px;
				max-height: 90vh;
			}
			
			.modal-body {
				max-height: calc(90vh - 80px);
			}
		}
		
		.timeline-container::-webkit-scrollbar {
			height: 6px;
		}
		
		.timeline-container::-webkit-scrollbar-track {
			background: var(--panel);
			border-radius: 3px;
		}
		
		.timeline-container::-webkit-scrollbar-thumb {
			background: var(--border);
			border-radius: 3px;
		}
		
		.timeline-container::-webkit-scrollbar-thumb:hover {
			background: var(--muted);
		}
	</style>
</head>
<body>
	<header class="header">
		<div class="title">🇮🇹🇭🇺🇦🇹🇨🇿 意-奥匈捷 Plan</div>
		<div class="subtitle">10/8-10/25 · 18天 · 铁路为主高效路线</div>
		<div class="legend">
			<div class="legend-item">
				<div class="legend-dot italy"></div>
				<span>🇮🇹 意大利</span>
			</div>
			<div class="legend-item">
				<div class="legend-dot hungary"></div>
				<span>🇭🇺 匈牙利</span>
			</div>
			<div class="legend-item">
				<div class="legend-dot austria"></div>
				<span>🇦🇹 奥地利</span>
			</div>
			<div class="legend-item">
				<div class="legend-dot czech"></div>
				<span>🇨🇿 捷克</span>
			</div>
		</div>
	</header>

	<div class="timeline-container">
		<div class="timeline" id="timeline"></div>
	</div>

	<div class="modal" id="modal">
		<div class="modal-content">
			<div class="modal-header">
				<div class="modal-title" id="modalTitle"></div>
				<button class="modal-close" id="modalClose">×</button>
			</div>
			<div class="modal-body" id="modalBody"></div>
		</div>
	</div>

	<footer class="footer">
		<div>✨ 18天意奥匈捷深度游 · 铁路为主 · 少折返高效路线 ✨</div>
	</footer>

	<script>
		const timelineData = [
			{
				day: 'D0', date: '10/8', country: 'italy',
				title: '🏛️ 罗马初印象',
				locations: ['斗兽场', '君士坦丁凯旋门', '威尼斯广场', '万神殿', '纳沃纳广场', '特雷维喷泉', '西班牙台阶'],
				highlight: '轻装高效打卡，外观为主避免排队',
				transport: '✈️ 晚飞布达佩斯',
				details: {
					schedule: '08:00-09:15 入境取行李 → 09:15-09:30 机场寄存 → 10:15-18:30 室外步行串联 → 18:30-19:00 返机场 → 21:45 飞往布达佩斯',
					attractions: '斗兽场外观 → 君士坦丁凯旋门 → 威尼斯广场 → 万神殿 → 纳沃纳广场 → 特雷维喷泉 → 西班牙台阶',
					transport: 'FCO机场→Termini Leonardo Express（32分钟，€14）+ 市区步行为主',
					tips: '外观为主避免排队，防盗重点区域，延误则保留万神殿→纳沃纳→喷泉→台阶'
				}
			},
			{
				day: 'D1', date: '10/9', country: 'hungary',
				title: '🏰 布达城区探索',
				locations: ['城堡山', '渔人堡', '匈牙利国会大厦夜景'],
				highlight: '渔人堡拍国会最佳机位',
				transport: '🚡 缆车+步行',
				details: {
					schedule: '09:00-11:30 城堡山 → 14:00-16:30 渔人堡 → 19:30-21:00 夜景',
					attractions: '布达城堡 → 渔人堡（国会大厦最佳机位） → 匈牙利国会大厦夜景',
					transport: 'Clark Ádám tér 缆车/公交16 → 渔人堡步行 → 地铁M1/M2返程',
					tips: '城堡缆车如排队长建议步行上山，注意防风，渔人堡是拍国会夜景最佳机位'
				}
			},
			{
				day: 'D2', date: '10/10', country: 'hungary',
				title: '🏛️ 多瑙河畔经典线',
				locations: ['匈牙利国会大厦', '多瑙河岸的鞋雕塑', '英雄广场', '塞切尼温泉'],
				highlight: '国会内参+温泉放松',
				transport: '🚇 地铁M1/M2线',
				details: {
					schedule: '09:00-10:30 国会导览 → 11:00-12:00 鞋雕塑 → 14:00-16:00 英雄广场 → 18:00-20:00 温泉',
					attractions: '匈牙利国会大厦导览 → 多瑙河岸的鞋雕塑 → 英雄广场 → 塞切尼温泉',
					transport: '国会（地铁M2 Kossuth Lajos tér）→ 英雄广场/温泉（地铁M1 Hősök tere/Széchenyi fürdő）',
					tips: '国会4-10月8:00-18:00（10/23闭馆），导览须预约并携证件，温泉户外池可能维护'
				}
			},
			{
				day: 'D3', date: '10/11', country: 'hungary',
				title: '🛥️ 机动日→维也纳',
				locations: ['中央市场大厅', '多瑙河游船', '多哈尼街会堂'],
				highlight: '游船+傍晚前往维也纳',
				transport: '🚄 傍晚Railjet→维也纳(2h20)',
				details: {
					schedule: '09:00-11:00 市场 → 13:00-14:30 游船 → 17:00-19:30 RJ前往维也纳',
					attractions: '中央市场大厅 → 多瑙河游船 → 多哈尼街会堂（仅外观）',
					transport: 'Railjet（RJX）自Keleti/Nyugati → Wien Hbf',
					tips: '中央市场周六多在≈15:00闭市请上午优先，多哈尼街会堂周六不对外开放建议仅外观'
				}
			},
			{
				day: 'D4', date: '10/12', country: 'austria',
				title: '👑 维也纳皇城历史线',
				locations: ['斯蒂芬大教堂', '霍夫堡', '美泉宫', '金色大厅音乐会'],
				highlight: '美泉宫+金色大厅',
				transport: '🚇 地铁U1/U4',
				details: {
					schedule: '09:00-12:00 斯蒂芬/霍夫堡 → 13:30-17:00 美泉宫 → 19:00-21:30 音乐会',
					attractions: '斯蒂芬大教堂 → 霍夫堡 → 美泉宫 → 金色大厅音乐会',
					transport: 'Stephansplatz（U1/U3）→ Schönbrunn（U4）',
					tips: '美泉宫10月8:30-17:30（最后入场-45分钟），周日弥撒时段教堂参观可能受限，金色大厅门票需提前预订'
				}
			},
			{
				day: 'D5', date: '10/13', country: 'austria',
				title: '🎨 艺术生活线',
				locations: ['上美景宫', '克里姆特《吻》', '阿尔贝蒂娜', '普拉特'],
				highlight: '克里姆特名作《吻》',
				transport: '🚋 电车D/71',
				details: {
					schedule: '10:00-12:00 上美景宫 → 13:30-16:30 KHM/阿尔贝蒂娜 → 19:00-21:00 普拉特',
					attractions: '上美景宫《吻》→ 阿尔贝蒂娜 → 普拉特',
					transport: 'Tram D/71至Schwarzenbergplatz → 普拉特（U1 Praterstern）',
					tips: '上美景宫10:00-18:00建议错峰，周一优先安排阿尔贝蒂娜'
				}
			},
			{
				day: 'D6', date: '10/14', country: 'austria',
				title: '🎵 机动日→萨尔茨堡',
				locations: ['维也纳慢活', '机动'],
				highlight: '上午维也纳机动+前往萨尔茨堡',
				transport: '🚄 下午Railjet→萨尔茨堡(2h20)',
				details: {
					schedule: '09:00-12:00 机动 → 14:30-16:50 RJ至Salzburg Hbf → 晚间入住',
					attractions: '上午维也纳慢活/机动',
					transport: 'Wien Hbf → Salzburg Hbf（RJX/Westbahn）',
					tips: '当日退房与行李安排请提前确认，晚到可仅做周边短途步行，维也纳酒店12:00前退房建议寄存行李'
				}
			},
			{
				day: 'D7', date: '10/15', country: 'austria',
				title: '🌸 萨城老城初探',
				locations: ['米拉贝尔花园', '粮食胡同', '夜景机动'],
				highlight: '音乐之都老城漫步',
				transport: '🚶‍♀️ 步行为主',
				details: {
					schedule: '10:00-12:00 花园与周边 → 14:00-16:30 老城步行 → 19:30-20:30 夜景',
					attractions: '米拉贝尔花园 → 粮食胡同 → 夜景机动',
					transport: '公交1/2 → Mönchsberg电梯 → 步行为主',
					tips: '体力不足可放弃夜景，次日清晨补拍'
				}
			},
			{
				day: 'D8', date: '10/16', country: 'austria',
				title: '🧂 哈莱因盐矿一日线',
				locations: ['哈莱因盐矿'],
				highlight: '盐矿体验一日线',
				transport: '🚊 S-Bahn至Hallein',
				details: {
					schedule: '08:30-17:30 一日线往返',
					attractions: '哈莱因盐矿（Salzwelten Hallein）一日线',
					transport: 'S-Bahn至Hallein接驳',
					tips: '矿洞温度低请备保暖，部分环节需步行穿舒适鞋履，关闭维护的是哈尔施塔特盐矿，哈莱因盐矿正常开放'
				}
			},
			{
				day: 'D9', date: '10/17', country: 'austria',
				title: '🏔️ 机动日→湖区',
				locations: ['萨尔茨堡机动', '前往Bad Goisern', '湖畔慢行'],
				highlight: '前往奥地利湖区',
				transport: '🚄 区域车/巴士→湖区',
				details: {
					schedule: '09:00-12:00 机动 → 13:00-15:30 区域车/巴士 → 17:00-19:00 湖畔散步',
					attractions: '上午萨尔茨堡机动/补拍 → 午后前往Bad Goisern/湖区 → 傍晚湖畔慢行',
					transport: 'Salzburg Hbf →（RE/Bus 150/换乘）→ Bad Goisern/Bad Ischl/Obertraun',
					tips: '确认末班接驳与入住时间，晚到以就近餐馆/超市为主，Bad Goisern酒店12:00后可入住'
				}
			},
			{
				day: 'D10', date: '10/18', country: 'austria',
				title: '🏘️ 哈尔施塔特+戈绍一日',
				locations: ['哈尔施塔特天空步道', '老镇与湖畔木栈道', '戈绍湖', '环湖观景'],
				highlight: '明信片机位+冰川倒影',
				transport: '🚌 公交+🚡缆车+⛵渡船',
				details: {
					schedule: '09:00-12:00 哈尔施塔特（观景台+老镇）→ 14:00-17:00 戈绍湖',
					attractions: '哈尔施塔特天空步道Welterbeblick → 老镇与湖畔木栈道 → 戈绍湖环湖/观景',
					transport: 'Bad Goisern/Obertraun ↔ Hallstatt（R/巴士/渡船+Salzbergbahn）→ Hallstatt/Bad Goisern ↔ Gosausee（Bus 542/543）',
					tips: '确认缆车/渡船与542/543班次衔接，如遇恶劣天气优先保留老镇与短线步道，含早餐建议9:00后出发'
				}
			},
			{
				day: 'D11', date: '10/19', country: 'austria',
				title: '♨️ 巴德伊舍+圣沃尔夫冈一日',
				locations: ['巴德伊舍', '咖啡馆', '圣沃尔夫冈', '湖畔与步道', '夏夫山齿轨火车'],
				highlight: '温泉小镇+湖区风光',
				transport: '🚌 区域巴士+⛵湖船',
				details: {
					schedule: '09:00-11:30 Bad Ischl小镇漫步与咖啡馆 → 13:30-17:30 St. Wolfgang湖畔与步道',
					attractions: '巴德伊舍小镇漫步/咖啡馆 → 圣沃尔夫冈湖畔与步道（可选登夏夫山齿轨火车）',
					transport: 'Bad Goisern ↔ Bad Ischl（R/Bus 150）→ Bad Ischl ↔ St. Wolfgang（Bus 546）→ 可选船线Wolfgangsee Schifffahrt',
					tips: '夏夫山齿轨火车班次与末班需提前查验，如时间不足优先湖畔与小镇漫步'
				}
			},
			{
				day: 'D12', date: '10/20', country: 'austria',
				title: '📸 机动日→CK',
				locations: ['湖区机动', '前往克鲁姆洛夫', '老城漫步', '夜景'],
				highlight: '前往捷克童话小镇',
				transport: '🚌 经Linz转巴士/小巴直达',
				details: {
					schedule: '09:00-11:00 机动 → 12:00-16:30 车程 → 19:30-21:00 夜景',
					attractions: '上午湖区机动/收拾行李 → 中午/下午经Linz转巴士或小巴直达前往CK → 入住后老城漫步/夜景',
					transport: 'Bad Goisern/Bad Ischl → Linz（火车）→ CK（巴士）或穿梭小巴直达',
					tips: '跨境班次较少请预留换乘缓冲，如晚到夜景可简化，Bad Goisern退房窗7:00-11:00请合理安排'
				}
			},
			{
				day: 'D13', date: '10/21', country: 'czech',
				title: '🏰 机动日+CK上午→布拉格',
				locations: ['CK机动', '塔楼', '前往布拉格', '老城轻松步行'],
				highlight: '中世纪小镇→布拉格',
				transport: '🚌 巴士→布拉格',
				details: {
					schedule: '09:00-11:00 塔楼/补拍 → 13:00-16:00 车程 → 19:00-20:30 老城',
					attractions: 'CK机动/补拍 → 前往布拉格 → 傍晚老城轻松步行',
					transport: 'RegioJet/FlixBus → Praha-Na Knížecí/Florenc → 地铁B/C',
					tips: '抵达当日尽量轻行程预留休息，CK当日含早餐（8:00-11:00退房窗）上午机动后前往布拉格'
				}
			},
			{
				day: 'D14', date: '10/22', country: 'czech',
				title: '🏛️ 布拉格城市初探',
				locations: ['旧城广场', '查理大桥', '夜景机动'],
				highlight: '布拉格老城经典线',
				transport: '🚇 地铁A/C+步行',
				details: {
					schedule: '09:00-12:00 老城广场与周边 → 19:00-21:00 夜景',
					attractions: '旧城广场 → 查理大桥 → 夜景机动',
					transport: '地铁A/C与步行为主',
					tips: '根据体力与天气调整机动点位'
				}
			},
			{
				day: 'D15', date: '10/23', country: 'czech',
				title: '🏰 城堡与河景',
				locations: ['布拉格城堡群', '伏尔塔瓦河夜景'],
				highlight: '城堡群+河畔夜景',
				transport: '🚋 有轨电车22',
				details: {
					schedule: '09:00-12:30 城堡群 → 19:00-21:00 河畔夜景',
					attractions: '布拉格城堡群 → 伏尔塔瓦河夜景',
					transport: '有轨电车22上城堡区 → 步行跨查理大桥',
					tips: '城堡建筑10月9:00-17:00，12:00换岗'
				}
			},
			{
				day: 'D16', date: '10/24', country: 'czech',
				title: '🚄 机动日→布达佩斯',
				locations: ['机动', '收尾', '前往布达佩斯', '抵达休整'],
				highlight: '早班车前往布达佩斯',
				transport: '🚄 Railjet/EC或RegioJet巴士',
				details: {
					schedule: '08:00-14:30 车程（示例）→ 16:00 入住后休整/轻行程',
					attractions: '上午机动/收尾 → 早班车前往布达佩斯 → 下午抵达休整',
					transport: 'Railjet/EC（多经维也纳转）或RegioJet直达巴士',
					tips: '为次日航班预留充足休息与缓冲不建议晚间抵达，抵达约14:30 IntercityHotel 15:00入住可先寄存行李后轻行程'
				}
			},
			{
				day: 'D17', date: '10/25', country: 'hungary',
				title: '✈️ 机动日（离境）',
				locations: ['BUD离境'],
				highlight: '预留离境缓冲时间',
				transport: '🚌 100E机场快线',
				details: {
					schedule: '按航班时刻抵达机场前2-3小时',
					attractions: 'BUD离境',
					transport: '100E机场快线（Airport Express）/出租车',
					tips: '确认登机航站楼与行李额'
				}
			}
		];

		function renderTimeline() {
			const timeline = document.getElementById('timeline');
			timeline.innerHTML = '';
			
			timelineData.forEach((item, index) => {
				const dayItem = document.createElement('div');
				dayItem.className = 'day-item';
				dayItem.onclick = () => openModal(item);
				
				const countryNames = {
					italy: '🇮🇹 意大利',
					hungary: '🇭🇺 匈牙利', 
					austria: '🇦🇹 奥地利',
					czech: '🇨🇿 捷克'
				};

				dayItem.innerHTML = `
					<div class="day-dot ${item.country}"></div>
					<div class="day-card">
						<div class="day-header">
							<div class="day-info">
								<div class="day-date">${item.date} · ${item.day}</div>
								<div class="day-title">${item.title}</div>
								${item.highlight ? `<div class="day-highlight">${item.highlight}</div>` : ''}
							</div>
							<div class="country-badge ${item.country}">${countryNames[item.country]}</div>
						</div>
						<div class="day-content">
							<div class="day-locations">
								${item.locations.map(loc => `<span class="location-tag">${loc}</span>`).join('')}
							</div>
							<div class="day-details">
								${item.details.schedule}
							</div>
						</div>
						${item.transport ? `<div class="day-transport">🚄 ${item.transport}</div>` : ''}
					</div>
				`;
				
				timeline.appendChild(dayItem);
			});
		}

		function openModal(item) {
			const modal = document.getElementById('modal');
			const modalTitle = document.getElementById('modalTitle');
			const modalBody = document.getElementById('modalBody');
			
			modalTitle.textContent = `${item.date} · ${item.day} · ${item.title.replace(/🏛️|🏰|🛥️|👑|🎨|🏔️|⛏️|📸|✈️|🏘️|🌸|🧂|♨️|🚄/g, '').trim()}`;
			
			const countryNames = {
				italy: '🇮🇹 意大利',
				hungary: '🇭🇺 匈牙利', 
				austria: '🇦🇹 奥地利',
				czech: '🇨🇿 捷克'
			};
			
			const docs = {
				italy: `罗马1日中转攻略：
• 路线选择：古罗马线（避开安检）重点外观打卡
• 交通：Leonardo Express直达Termini（32分钟€14）
• 行李寄存：FCO T3或Termini站内寄存
• 用餐推荐：万神殿/纳沃纳/喷泉一带次街高分小店
• 注意事项：防盗高发区（特雷维喷泉/西班牙台阶/公交64路），轻装进城`,
				
				hungary: `布达佩斯攻略：
• 交通：100E机场快线性价比高，地铁M1/M2/M3线覆盖主要景点
• 温泉装备：自带泳衣/拖鞋/毛巾更省，塞切尼温泉户外池可能维护
• 夜景拍摄：渔人堡俯瞰国会，蓝时拍摄效果最佳
• 住宿推荐：5区/链子桥周边/歌剧院-安德拉什沿线步行方便
• 美食：中央市场大厅、次街小馆更实惠，国会大厦需提前3-6个月预约`,
				
				austria: `奥地利攻略：
• 维也纳：72小时通票适合高频出行，美泉宫预约早时段避开周末人群
• 萨尔茨堡：音乐之都老城步行，米拉贝尔花园+粮食胡同经典线路
• 湖区交通：Railjet转区域车+轮渡，ÖBB App查早鸟票更划算
• 拍照时机：哈镇明信片机位清晨日落最美，戈绍湖早晨倒影更稳
• 季节提醒：10月湖区清晨0-8℃，带保暖层与雨具，哈尔施塔特盐矿关闭改访哈莱因盐矿`,
				
				czech: `捷克攻略：
• CK交通：优先巴士省时省钱，Student Agency/RegioJet舒适度好
• 布拉格：24h/72h交通票，查理大桥清晨体验最佳，防盗意识要强
• 住宿：老城夜景方便，地铁A/B/C线覆盖主要区域
• 美食：捷式传统菜肴，老城广场周边餐厅
• 注意：石板路多穿舒适鞋，城堡群按线路选票，圣维特教堂礼拜时段限制入内`
			};

			// 🍽️ 各国餐饮建议（摘自 02-Food-Drink）
			const foodDocs = {
				italy: `罗马餐饮（动线友好）：
• 万神殿：Armando al Pantheon（需订）、Ginger；Sant'Eustachio 咖啡
• 纳沃纳：Vivi Bistrot、Supplizio、Frigidarium 冰淇淋
• 喷泉/台阶：Piccolo Buco、Ristorante Life、San Crispino
• 策略：避开景观正对面；午餐45–60分钟；返程预留快线时间`,
				hungary: `布达佩斯餐饮：
• D1 渔人堡周边：Ruszwurm 甜点、简餐先吃后拍夜景
• D2 国会+英雄广场：Menza/Hungarikum（建议预约）；Gerbeaud/New York Café
• D3 市场：兰哥什/炖牛肉/香肠档（€8–12）；夜航提前用餐
• 地道：Goulash、Lángos、鹅肝、烟囱卷`,
				austria: `奥地利餐饮：
• 维也纳：Figlmüller、Plachutta、Demel/Café Central；Trzesniewski、Spar 熟食
• 萨尔茨堡：Sacher/Tomaselli 甜点；Stieglkeller 河景位
• 湖区：Hallstatt 湖畔景观价高；Gosau 营业时间有限；Bad Ischl Zauner
• 特色：炸猪排、炖牛肉、苹果卷、萨赫蛋糕、莫扎特球`,
				czech: `捷克餐饮：
• CK：河湾/城堡下餐馆就近；面包房/可丽饼快补
• 布拉格：Lokál、Eska（需订）、Café Louvre、Mlejnice
• 特色：烤鸭/猪肘/肠、古拉什、Knedlíky 面包团、Trdelník
• 策略：避开老城广场正对面与桥头溢价店，蓝时前后就近用餐`
			};

			// 🎫 各国购票与比价（摘自 04-Tickets-Deals）
			const ticketsDocs = {
				italy: `罗马购票与比价：
• 梵蒂冈若入内尽早预约；中转建议以外观为主
• Leonardo Express 32min；到站购票即可
• 地铁/公交需打票；返程按 Plan.md 19:45 到 T1`,
				hungary: `布达佩斯购票：
• 国会内参提前3–6个月预约；携证件
• BKK 24/72h 票按需；RJ 经 ÖBB 锁座
• 游船比价含饮品班次；地铁/电车需打票`,
				austria: `奥地利购票：
• ÖBB 早鸟 Sparschiene；维↔萨对比 Westbahn
• 城市 24/48/72h 通票按强度选
• 湖区缆车/轮渡看末班；城市查票严格需打票`,
				czech: `捷克购票：
• CK→布拉格巴士提前锁座；选舒适车次
• 布拉格→布达佩斯早班优先（6.5–7h）
• 城市 24/72h 票更划算；上车/进站记得打票`
			};

			// 🛍️ 各国购物与支付（摘自 06-Shopping-Payment）
			const shoppingDocs = {
				italy: `罗马购物与支付：
• 纪念品：橄榄油/意面/调料、托斯卡纳小酒、皮具小件
• 支付：刷卡/Pay 为主，少量 EUR 备用；拒绝 DCC，选 EUR
• 退税：达阈值可退；机场排队需预留`,
				hungary: `布达佩斯购物与支付：
• 纪念品：辣椒粉、Tokaji 甜酒、鹅肝、瓷器/刺绣
• 支付：刷卡/Pay 为主，少量 HUF；拒绝 DCC，选 HUF
• 市场选正规品牌，注意保质期`,
				austria: `奥地利购物与支付：
• 纪念品：莫扎特球、咖啡甜点周边、音乐主题礼品
• 支付：刷卡/Pay + 少量 EUR；拒绝 DCC，选 EUR
• 退税：电子退税更便捷，机场预留时间`,
				czech: `捷克购物与支付：
• 纪念品：水晶/玻璃、木制玩具、蜂蜜/香皂、小陶器
• 支付：刷卡/Pay + 少量 CZK；拒绝 DCC，选 CZK
• 换汇：ATM/正规点，避开“0% 佣金”陷阱`
			};

			modalBody.innerHTML = `
				<div class="section">
					<div class="section-title">📍 国家/地区</div>
					<div class="section-content">${countryNames[item.country]}</div>
				</div>
				<div class="section">
					<div class="section-title">⏰ 当日安排</div>
					<div class="section-content">${item.details.schedule}</div>
				</div>
				<div class="section">
					<div class="section-title">🎯 主要景点</div>
					<div class="section-content">${item.details.attractions}</div>
				</div>
				<div class="section">
					<div class="section-title">🚄 交通方式</div>
					<div class="section-content">${item.details.transport}</div>
				</div>
				<div class="section">
					<div class="section-title">💡 实用贴士</div>
					<div class="section-content">${item.details.tips}</div>
				</div>
				<div class="section">
					<div class="section-title">📋 地区攻略</div>
					<div class="section-content">${docs[item.country]}</div>
				</div>
				<div class="section">
					<div class="section-title">🍽️ 餐饮建议</div>
					<div class="section-content">${foodDocs[item.country]}</div>
				</div>
				<div class="section">
					<div class="section-title">🎫 购票与比价</div>
					<div class="section-content">${ticketsDocs[item.country]}</div>
				</div>
				<div class="section">
					<div class="section-title">🛍️ 购物与支付</div>
					<div class="section-content">${shoppingDocs[item.country]}</div>
				</div>
			`;
			
			modal.classList.add('show');
		}

		function closeModal() {
			document.getElementById('modal').classList.remove('show');
		}

		document.getElementById('modalClose').addEventListener('click', closeModal);
		document.getElementById('modal').addEventListener('click', (e) => {
			if (e.target === e.currentTarget) closeModal();
		});
		document.addEventListener('keydown', (e) => {
			if (e.key === 'Escape') closeModal();
		});

		renderTimeline();
	</script>
</body>
</html>